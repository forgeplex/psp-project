# PSP å¤šå¹³å°èº«ä»½éªŒè¯æ¶æ„æ·±åº¦åˆ†æ

> ğŸ“… ç”Ÿæˆæ—¶é—´ï¼š2026-02-03
> ğŸ” åˆ†ææ¥æºï¼š`forgeplex/psp` åç«¯ä»£ç 

---

## ä¸€ã€ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ

PSP ç³»ç»ŸåŒ…å« **4 ä¸ªç‹¬ç«‹çš„èº«ä»½éªŒè¯ä½“ç³»**ï¼Œåˆ†åˆ«æœåŠ¡äºä¸åŒçš„ç”¨æˆ·ç¾¤ä½“ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PSP èº«ä»½éªŒè¯æ¶æ„æ€»è§ˆ                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   å¹³å°       â”‚   ç«¯å£       â”‚  è®¤è¯æ–¹å¼     â”‚   ç”¨æˆ·ç±»å‹    â”‚    éš”ç¦»æœºåˆ¶      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Admin API    â”‚    8082      â”‚ Keycloak OIDCâ”‚ è¿è¥/ç®¡ç†å‘˜   â”‚ RBAC æƒé™æ§åˆ¶    â”‚
â”‚ Merchant     â”‚    8081      â”‚ Keycloak OIDCâ”‚ å•†æˆ·ç”¨æˆ·      â”‚ ç§Ÿæˆ·+å•†æˆ·éš”ç¦»    â”‚
â”‚ Portal       â”‚              â”‚              â”‚              â”‚                 â”‚
â”‚ Agent Portal â”‚    8083      â”‚ Keycloak OIDCâ”‚ ä»£ç†å•†        â”‚ å±‚çº§ä»£ç†ä½“ç³»     â”‚
â”‚ Gateway API  â”‚    8080      â”‚ API Key +    â”‚ ç³»ç»Ÿ/å•†æˆ·     â”‚ ç§Ÿæˆ·+è´¦æˆ·éš”ç¦»    â”‚
â”‚              â”‚              â”‚ Signature    â”‚ æŠ€æœ¯å¯¹æ¥      â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äºŒã€å„å¹³å°è¯¦ç»†åˆ†æ

### 1. Admin åå° (Admin API) â€” Port 8082

**å®šä½**: é¢å‘å†…éƒ¨è¿è¥å›¢é˜Ÿçš„åå°ç®¡ç†ç³»ç»Ÿ

**è®¤è¯æ–¹å¼**: 
- **Keycloak OIDC** (æ ‡å‡† OIDC æµç¨‹)
- æ”¯æŒå¤š Issuer é…ç½®ï¼ˆå¯ç”¨äºå¤šç¯å¢ƒ/å¤šç§Ÿæˆ· Keycloakï¼‰
- æµ‹è¯•æ¨¡å¼æ”¯æŒæœ¬åœ° JWT éªŒè¯ï¼ˆE2E æµ‹è¯•ç”¨ï¼‰

**æƒé™æ¨¡å‹**: **RBAC + ç»†ç²’åº¦æƒé™**

```
æƒé™å±‚çº§ï¼š
Realm Roles â†’ Client Roles â†’ ç»†ç²’åº¦ Permissions

ç¤ºä¾‹æƒé™ï¼š
- merchants:create      (åˆ›å»ºå•†æˆ·)
- merchants:update:M123 (æ›´æ–°æŒ‡å®šå•†æˆ·)
- transactions:refund   (é€€æ¬¾æ“ä½œ)
- reports:export        (å¯¼å‡ºæŠ¥è¡¨)
```

**ç”¨æˆ·ç±»å‹**:
| ç”¨æˆ·è§’è‰² | æƒé™èŒƒå›´ | è¯´æ˜ |
|---------|---------|------|
| Super Admin | å…¨ç³»ç»Ÿ | è¶…çº§ç®¡ç†å‘˜ |
| Ops Manager | è¿è¥ç›¸å…³ | è¿è¥ç»ç† |
| Risk Analyst | é£æ§ç›¸å…³ | é£æ§åˆ†æå¸ˆ |
| Finance | è´¢åŠ¡ç›¸å…³ | è´¢åŠ¡äººå‘˜ |
| Support | åªè¯»+æœ‰é™æ“ä½œ | å®¢æœæ”¯æŒ |

**ä¼šè¯ç®¡ç†**:
- Token æœ‰æ•ˆæœŸç”± Keycloak æ§åˆ¶
- æ”¯æŒ MFA å¤šå› ç´ è®¤è¯
- æ”¯æŒæ•æ„Ÿæ“ä½œäºŒæ¬¡éªŒè¯ï¼ˆIssue #3202ï¼‰
- å®¡è®¡æ—¥å¿—è®°å½•æ‰€æœ‰æ“ä½œ

**ä¸­é—´ä»¶é“¾**:
```
KeycloakAuth â†’ PermissionChecker â†’ AuditLog
     â†“              â†“                  â†“
  OIDCéªŒè¯      ç»†ç²’åº¦æƒé™æ£€æŸ¥      æŒä¹…åŒ–å®¡è®¡
```

---

### 2. å•†æˆ·é—¨æˆ· (Merchant Portal) â€” Port 8081

**å®šä½**: é¢å‘å•†æˆ·çš„åå°ç®¡ç†ç•Œé¢

**è®¤è¯æ–¹å¼**:
- **Keycloak OIDC**ï¼ˆä¸ Admin å…±äº« Keycloakï¼Œä½†ä¸åŒ Clientï¼‰
- å¼ºåˆ¶è¦æ±‚ `merchant_id` å’Œ `tenant_id` åœ¨ Token Claims ä¸­

**æƒé™æ¨¡å‹**: **ç§Ÿæˆ·éš”ç¦» + RBAC**

```
å®‰å…¨æ¨¡å‹ï¼š

1. è®¤è¯å±‚: Keycloak éªŒè¯ Token æœ‰æ•ˆæ€§
2. RBACå±‚: éªŒè¯ç”¨æˆ·è§’è‰²æƒé™
3. éš”ç¦»å±‚: TenantIsolationMiddlewareï¼ˆæ·±åº¦é˜²å¾¡ï¼‰
   - å¼ºåˆ¶éªŒè¯ tenant_id å­˜åœ¨
   - å¼ºåˆ¶éªŒè¯ merchant_id å­˜åœ¨
   - é˜²æ­¢è·¨ç§Ÿæˆ·æ•°æ®æ³„æ¼
```

**ç”¨æˆ·ç±»å‹**:
| ç”¨æˆ·è§’è‰² | æƒé™èŒƒå›´ | è¯´æ˜ |
|---------|---------|------|
| Merchant Admin | æ‰€å±å•†æˆ·å…¨éƒ¨ | å•†æˆ·ç®¡ç†å‘˜ |
| Merchant Finance | è´¢åŠ¡ç›¸å…³ | è´¢åŠ¡äººå‘˜ |
| Merchant Operator | äº¤æ˜“ç›¸å…³ | è¿è¥äººå‘˜ |
| Merchant Viewer | åªè¯» | æŸ¥çœ‹äººå‘˜ |

**éš”ç¦»æœºåˆ¶**:
- **ç§Ÿæˆ·éš”ç¦»**: æ¯ä¸ªå•†æˆ·å±äºä¸€ä¸ªç§Ÿæˆ·ï¼Œæ•°æ®å®Œå…¨éš”ç¦»
- **å•†æˆ·éš”ç¦»**: ç”¨æˆ·åªèƒ½è®¿é—®æ‰€å±å•†æˆ·çš„æ•°æ®
- **æ•°æ®è¿‡æ»¤**: æ‰€æœ‰æŸ¥è¯¢è‡ªåŠ¨é™„åŠ  `merchant_id` è¿‡æ»¤æ¡ä»¶

**å…³é”® Claims**:
```json
{
  "sub": "user-uuid",
  "tenant_id": "tenant-uuid",
  "merchant_id": "merchant-uuid",
  "roles": ["merchant_admin"]
}
```

---

### 3. ä»£ç†é—¨æˆ· (Agent Portal) â€” Port 8083

**å®šä½**: é¢å‘ä»£ç†å•†çš„å±‚çº§ç®¡ç†å¹³å°

**è®¤è¯æ–¹å¼**:
- **Keycloak OIDC**
- å¼ºåˆ¶è¦æ±‚ `agent_id` åœ¨ Token Claims ä¸­

**æƒé™æ¨¡å‹**: **å±‚çº§ä»£ç†ä½“ç³» (Hierarchy)**

```
ä»£ç†å±‚çº§ç»“æ„ï¼š

       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  ä¸€çº§ä»£ç†    â”‚ (Agent A)
       â”‚  agent_id=1  â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
              â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
      â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚  äºŒçº§ä»£ç†   â”‚   â”‚  äºŒçº§ä»£ç†   â”‚
â”‚ agent_id=2 â”‚   â”‚ agent_id=3 â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚                â”‚
â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚   å•†æˆ·     â”‚   â”‚   å•†æˆ·     â”‚
â”‚ merchant_1 â”‚   â”‚ merchant_2 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç”¨æˆ·ç±»å‹**:
| ç”¨æˆ·è§’è‰² | æƒé™èŒƒå›´ | è¯´æ˜ |
|---------|---------|------|
| Agent Admin | æœ¬äººåŠä¸‹çº§å…¨éƒ¨ | ä»£ç†å•†ç®¡ç†å‘˜ |
| Agent Operator | æœ¬äººåŠä¸‹çº§æœ‰é™ | ä»£ç†è¿è¥ |

**å±‚çº§æ£€æŸ¥é€»è¾‘**:
```
è®¿é—®å•†æˆ·æ•°æ®æ—¶:
1. æå–å½“å‰ç”¨æˆ· agent_id
2. æ£€æŸ¥ç›®æ ‡å•†æˆ·æ˜¯å¦å±äºå½“å‰ä»£ç†å•†
3. æ‹’ç»è®¿é—®éæ‰€å±å•†æˆ·æ•°æ®

è®¿é—®ä¸‹çº§ä»£ç†æ—¶:
1. æ£€æŸ¥ç›®æ ‡ä»£ç†æ˜¯å¦æ˜¯å½“å‰ä»£ç†çš„ä¸‹çº§
2. ç¦æ­¢è®¿é—®åŒçº§æˆ–ä¸Šçº§ä»£ç†æ•°æ®
```

**å…³é”® Claims**:
```json
{
  "sub": "user-uuid",
  "tenant_id": "tenant-uuid",
  "agent_id": "agent-uuid",
  "merchant_id": "merchant-uuid", // å¯é€‰ï¼Œç›´æ¥å…³è”å•†æˆ·
  "roles": ["agent_admin"]
}
```

---

### 4. ç½‘å…³ API (Gateway API) â€” Port 8080

**å®šä½**: é¢å‘å•†æˆ·æŠ€æœ¯ç³»ç»Ÿçš„æ”¯ä»˜æ¥å…¥ç½‘å…³

**è®¤è¯æ–¹å¼**: **API Key + ç­¾åéªŒè¯** (ä¸ OIDC å®Œå…¨ä¸åŒ)

```
è®¤è¯æµç¨‹ï¼š

è¯·æ±‚å¤´ï¼š
  X-Account-ID: <account-uuid>
  Authorization: Bearer <prefix>_<api-key>
  X-Signature: <HMAC-SHA256-Signature>  (éƒ¨åˆ†æ¥å£)
  X-Merchant-Account-Code: <code>       (éƒ¨åˆ†æ¥å£)

éªŒè¯æ­¥éª¤ï¼š
1. æå– account_id å’Œ api-key
2. éªŒè¯ API Key æœ‰æ•ˆæ€§ï¼ˆæ•°æ®åº“æŸ¥è¯¢ï¼‰
3. æ£€æŸ¥ API Key æ˜¯å¦æ¿€æ´»
4. æ³¨å…¥ tenant_id, merchant_id, account_id åˆ° Context
```

**æƒé™æ¨¡å‹**: **è´¦æˆ·çº§æƒé™**

```
API Key æƒé™ï¼š
- payments:create    (åˆ›å»ºæ”¯ä»˜)
- payments:query     (æŸ¥è¯¢æ”¯ä»˜)
- refunds:create     (åˆ›å»ºé€€æ¬¾)
- webhooks:configure (é…ç½®å›è°ƒ)
```

**ç”¨æˆ·ç±»å‹**: 
- ç³»ç»Ÿé—´è°ƒç”¨ï¼ˆæœåŠ¡å™¨å¯¹æœåŠ¡å™¨ï¼‰
- æ— "ç”¨æˆ·"æ¦‚å¿µï¼Œåªæœ‰"è´¦æˆ·"æ¦‚å¿µ

**éš”ç¦»æœºåˆ¶**:
- **è´¦æˆ·éš”ç¦»**: æ¯ä¸ª API Key ç»‘å®šåˆ°ä¸€ä¸ªå•†æˆ·è´¦æˆ·
- **ç§Ÿæˆ·éš”ç¦»**: é€šè¿‡è´¦æˆ·ä»£ç è§£æç§Ÿæˆ·ä¿¡æ¯

**ä¸­é—´ä»¶é“¾**:
```
APIKeyAuth â†’ TenantResolver â†’ RateLimit â†’ SignatureVerify
     â†“             â†“             â†“              â†“
  éªŒè¯Key      è§£æç§Ÿæˆ·       é™æµæ§åˆ¶       ç­¾åéªŒè¯
```

---

## ä¸‰ã€å¹³å°é—´éš”ç¦»æœºåˆ¶å¯¹æ¯”

| éš”ç¦»ç»´åº¦ | Admin | Merchant | Agent | Gateway |
|---------|-------|----------|-------|---------|
| **è®¤è¯åè®®** | OIDC | OIDC | OIDC | API Key |
| **èº«ä»½æº** | Keycloak | Keycloak | Keycloak | è‡ªå»º API Key |
| **ç§Ÿæˆ·éš”ç¦»** | å¯é€‰ | å¼ºåˆ¶ | å¼ºåˆ¶ | å¼ºåˆ¶ |
| **å•†æˆ·éš”ç¦»** | æ— ï¼ˆå¯æŸ¥æ‰€æœ‰ï¼‰ | å¼ºåˆ¶ | é€šè¿‡å±‚çº§ | å¼ºåˆ¶ |
| **ä»£ç†å±‚çº§** | æ—  | æ—  | å¼ºåˆ¶ | æ—  |
| **æƒé™ç²’åº¦** | ç»†ç²’åº¦ RBAC | è§’è‰²çº§ | å±‚çº§+è§’è‰² | è´¦æˆ·çº§ |
| **å®¡è®¡è¦æ±‚** | å…¨é‡å®¡è®¡ | å…¨é‡å®¡è®¡ | å…¨é‡å®¡è®¡ | å…³é”®æ“ä½œ |

---

## å››ã€Keycloak é…ç½®æ¶æ„

```
Keycloak Realm: psp
â”œâ”€â”€ Clients
â”‚   â”œâ”€â”€ psp-admin      â†’ Admin API (8082)
â”‚   â”œâ”€â”€ psp-merchant   â†’ Merchant Portal (8081)
â”‚   â”œâ”€â”€ psp-agent      â†’ Agent Portal (8083)
â”‚   â””â”€â”€ psp-web        â†’ å‰ç«¯åº”ç”¨
â”‚
â”œâ”€â”€ Roles
â”‚   â”œâ”€â”€ Realm Roles
â”‚   â”‚   â”œâ”€â”€ super_admin
â”‚   â”‚   â””â”€â”€ ops_manager
â”‚   â””â”€â”€ Client Roles (psp-admin)
â”‚       â”œâ”€â”€ merchants:create
â”‚       â”œâ”€â”€ transactions:refund
â”‚       â””â”€â”€ ...
â”‚
â””â”€â”€ User Attributes â†’ JWT Claims Mapping
    â”œâ”€â”€ tenant_id   â†’ claim.tenant_id
    â”œâ”€â”€ merchant_id â†’ claim.merchant_id
    â””â”€â”€ agent_id    â†’ claim.agent_id
```

---

## äº”ã€å¯¹é‡Œç¨‹ç¢‘è§„åˆ’çš„å½±å“

### M1 èº«ä»½ä¸å‡†å…¥ éœ€è¦æ‹†åˆ†

åŸè®¾è®¡ï¼š
```
M1: èº«ä»½ä¸å‡†å…¥ (Tenant + RBAC + Gatewayé…ç½®)
```

æ–°è®¾è®¡ï¼ˆæŒ‰å¹³å°æ‹†åˆ†ï¼‰ï¼š
```
M1a: Admin è®¤è¯ä½“ç³»
  - Keycloak OIDC é›†æˆ
  - RBAC æƒé™æ¨¡å‹
  - å®¡è®¡æ—¥å¿—

M1b: Merchant Portal è®¤è¯
  - Keycloak Client é…ç½®
  - ç§Ÿæˆ·éš”ç¦»ä¸­é—´ä»¶
  - å•†æˆ·éš”ç¦»éªŒè¯

M1c: Agent Portal è®¤è¯
  - Keycloak Client é…ç½®
  - å±‚çº§ä»£ç†ä¸­é—´ä»¶
  - å•†æˆ·æ‰€æœ‰æƒéªŒè¯

M1d: Gateway API è®¤è¯
  - API Key ä½“ç³»
  - ç­¾åéªŒè¯
  - ç§Ÿæˆ·è§£æ
```

### å…³é”®ä¾èµ–

```
Keycloak åŸºç¡€é…ç½® (Shared)
       â”‚
       â”œâ”€â”€â†’ M1a Admin è®¤è¯
       â”œâ”€â”€â†’ M1b Merchant è®¤è¯
       â”œâ”€â”€â†’ M1c Agent è®¤è¯
       â”‚
       â””â”€â”€â†’ (å¹¶è¡Œ) M1d Gateway è®¤è¯ (ç‹¬ç«‹)
```

### é˜»å¡é£é™©

| æ¨¡å— | é˜»å¡ç‚¹ | ç¼“è§£æ–¹æ¡ˆ |
|------|-------|---------|
| M1a/b/c | Keycloak æœåŠ¡å¯ç”¨æ€§ | Keycloak å¿…é¡»å…ˆäºè¿™äº›æ¨¡å—éƒ¨ç½² |
| M1d | API Key æ•°æ®åº“è¡¨ | ä¾èµ– Ledger/Account æ¨¡å— |
| M2+ | è®¤è¯ä½“ç³»å¿…é¡»å®Œæ•´ | æ‰€æœ‰ä¸šåŠ¡æ¨¡å—ä¾èµ–è®¤è¯ |

---

## å…­ã€å»ºè®®çš„é‡Œç¨‹ç¢‘è°ƒæ•´

### åŸé‡Œç¨‹ç¢‘ v2 (Atath è®¾è®¡)

```
M0: åŸºç¡€è®¾æ–½
M1: èº«ä»½ä¸å‡†å…¥
M2: è´¦åŠ¡æ ¸å¿ƒ
M3: æ ¸å¿ƒæ”¯ä»˜é“¾è·¯
...
```

### å»ºè®®çš„æ–°é‡Œç¨‹ç¢‘

```
M0: åŸºç¡€è®¾æ–½å±‚
  â”œâ”€â”€ Gateway/Temporal/Outbox/Analytics/Monitor
  â””â”€â”€ Keycloak åŸºç¡€éƒ¨ç½² (Shared)

M1: Admin è®¤è¯ä½“ç³» â­å…³é”®è·¯å¾„
  â”œâ”€â”€ Keycloak OIDC é›†æˆ
  â”œâ”€â”€ RBAC æƒé™æ¨¡å‹
  â”œâ”€â”€ å®¡è®¡æ—¥å¿—æ¡†æ¶
  â””â”€â”€ Admin API åŸºç¡€

M2: Merchant + Agent è®¤è¯ä½“ç³» â­å…³é”®è·¯å¾„
  â”œâ”€â”€ Keycloak Client é…ç½® (Merchant)
  â”œâ”€â”€ Keycloak Client é…ç½® (Agent)
  â”œâ”€â”€ ç§Ÿæˆ·éš”ç¦»ä¸­é—´ä»¶
  â”œâ”€â”€ å•†æˆ·éš”ç¦»ä¸­é—´ä»¶
  â”œâ”€â”€ å±‚çº§ä»£ç†ä¸­é—´ä»¶
  â””â”€â”€ Portal API åŸºç¡€

M3: Gateway è®¤è¯ä½“ç³» â­å…³é”®è·¯å¾„
  â”œâ”€â”€ API Key ç®¡ç†
  â”œâ”€â”€ ç­¾åéªŒè¯
  â”œâ”€â”€ ç§Ÿæˆ·è§£æ
  â””â”€â”€ Gateway API åŸºç¡€

M4: è´¦åŠ¡æ ¸å¿ƒ (Ledger/Tokenization)
M5: æ ¸å¿ƒæ”¯ä»˜é“¾è·¯ (Channel/Payment/Transaction)
...
```

---

## ä¸ƒã€æŠ€æœ¯å®ç°æ¸…å•

### éœ€ç‹¬ç«‹å®ç°/é…ç½®çš„ç»„ä»¶

| ç»„ä»¶ | Admin | Merchant | Agent | Gateway |
|------|-------|----------|-------|---------|
| Keycloak Client | âœ… | âœ… | âœ… | âŒ |
| OIDC Middleware | âœ… | âœ… | âœ… | âŒ |
| RBAC Middleware | âœ… (ç»†ç²’åº¦) | âœ… (è§’è‰²çº§) | âœ… (å±‚çº§) | âŒ |
| éš”ç¦»ä¸­é—´ä»¶ | âŒ | âœ… (ç§Ÿæˆ·+å•†æˆ·) | âœ… (å±‚çº§) | âœ… (ç§Ÿæˆ·) |
| API Key ä¸­é—´ä»¶ | âŒ | âŒ | âŒ | âœ… |
| ç­¾åéªŒè¯ | âŒ | âŒ | âŒ | âœ… |
| å®¡è®¡æ—¥å¿— | âœ… | âœ… | âœ… | éƒ¨åˆ† |

---

*æ­¤æ–‡æ¡£ç”± Arch åˆ†æç”Ÿæˆï¼Œä¾› Atath è°ƒæ•´é‡Œç¨‹ç¢‘è§„åˆ’ä½¿ç”¨ã€‚*
