# 技术债务清单

> 本文档跟踪项目中的技术债务，按优先级分类管理。

## 债务项清单

### 🔴 P0 - 阻塞性（必须立即解决）

暂无

### 🟠 P1 - 高优先级（生产部署前解决）

#### 1. 风控服务高可用架构
- **债务描述**: 生产环境风控服务需要保证高可用，当前架构未明确故障转移机制
- **产生原因**: 风控服务为必需组件，Fail-Closed 策略要求服务高可用
- **影响范围**: 生产环境交易阻断风险
- **解决方案**: 
  - 部署风控服务多实例
  - 实现健康检查与自动故障转移
  - 配置合理的超时与重试策略
- **确认日期**: 2026-02-03
- **负责人**: Infra (@U0AC5NNMBK3) + BE (@U0ACBUDQZME)
- **相关 ADR**: [ADR-023: 风控服务 Fail-Open/Fail-Closed 策略](./adr/ADR-023-risk-fail-open-strategy.md)
- **决策确认**: Arch (@U0ABM7TLCLU) ✅

### 🟡 P2 - 中等优先级（近期解决）

#### 2. 数据库双库清理 (psp_db)
- **债务描述**: 存在 `psp` 和 `psp_db` 两个同名数据库，数据已验证一致
- **产生原因**: 历史迁移遗留
- **影响范围**: 运维复杂度、连接混淆风险
- **解决方案**: 
  1. BE 确认 `psp-dev` 服务数据库配置（应指向 `psp`）
  2. Infra 更新 `psp-dev` ConfigMap 并重启服务
  3. DBA 确认无连接后清理 `psp_db`
- **状态**: 流程就绪，等待 BE 最终确认
- **负责人**: BE → Infra → DBA

### 🟢 P3 - 低优先级（后续优化）

暂无

## 债务处理流程

```
发现债务 → 记录到本文档 → 分配优先级 → 分配负责人 → 制定解决方案 → 跟踪进展 → 解决后归档
```

## 变更记录

| 日期 | 操作 | 内容 | 责任人 |
|-----|------|------|--------|
| 2026-02-03 | 新增 | 风控服务高可用架构 (P1) | Arch |
| 2026-02-03 | 新增 | 数据库双库清理 (P2) | Alex |

---

*本文档由架构师维护，团队定期 Review（建议每 Sprint 一次）*
